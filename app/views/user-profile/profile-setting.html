<div ng-controller="agentSettingCtrl">
    <div class="agent-settings-wrapper" ng-init="inti();" id="agentSettings">
        <div class="container">
            <div class="col-md-offset-1 col-xs-offset-1 col-md-10 col-sm-10 col-xs-10 col-lg-10">
                <div id="settingWrapper" class="settings-wrapper">
                    <!-- Profile header ps - profile setting -->
                    <div class="ps-header-wpr">
                        <div class="row">
                            <div class="col-lg-12 col-xs-12">
                                <div class="header-txt-left">
                                    Profile Settings
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- profile setting(ps) body wrapper(wrp) -->
                    <div class="ps-body-wrp">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="ps-left-menu">
                                    <!-- profile image -->
                                    <div class="ps-image">
                                        <img ng-show="isUploadImg==true"
                                             src="assets/img/avatar/defaultProfile.png"
                                             ng-src="{{uploader.queue[0].croppedImage}}"
                                             alt="profile_img" width="100" height="100"/>

                                        <img ng-show="isUploadImg==false"
                                             src="assets/img/avatar/defaultProfile.png"
                                             ng-src="{{CurrentProfile.avatar}}"
                                             alt="profile_img" width="100" height="100"/>
                                        <div class="ps-p-upload edit-t-input-file"
                                             ng-class="menusObj.selectedMenu.selected==true ?'selected-menu':''"
                                             ng-click="clickMenu()">
                                            upload
                                            <input type="file" class="edit-t-input-file"
                                                   nv-file-select="" uploader="uploader"
                                                   ng-click="clearQueue()" accept="image/*"/>
                                        </div>
                                        <div class="ps-p-name">
                                            {{CurrentProfile.firstname}} {{CurrentProfile.lastname}}
                                        </div>
                                    </div>
                                    <!-- setting menu -->
                                    <div class="ps-wrp">
                                        <div class="ps-menu"
                                             ng-click="clickMenu(menu)"
                                             ng-repeat="menu in menusObj.menu | limitTo:7 track by $index ">
                                            <div class="row">
                                                <div class="col-lg-2">
                                                    <div class="s-icon"
                                                         ng-class="menu.selected==true ?'selected-menu':''">
                                                        <i class="{{menu.icon}}"></i>
                                                    </div>
                                                </div>
                                                <div class="col-lg-10">
                                                    <div class="s-text"
                                                         ng-class="menu.selected==true ?'selected-menu':''">
                                                        {{menu.name}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-8 ps-body-content">
                                <!-- profile edit body -->
                                <div class="ps-body">
                                    <div class="ps-header-wpr">
                                        <h4>{{menusObj.selectedMenu.name}}</h4>
                                    </div>
                                </div>

                                <div class="edit-body">
                                    <div class="edit-wrp">
                                        <!-- upload image wrapper -->
                                        <div class="edit-info "
                                             ng-if="menusObj.selectedMenu.id=='upload05'">
                                            <div class="cropArea">
                                                <div class="crop-text" ng-show="isUploadImg==false">
                                                    <i class="veery-font-1-upload"></i></br>
                                                    Upload photo
                                                </div>
                                                <div class="cropArea-wp">
                                                    <img-crop
                                                            image="uploader.queue[0].image"
                                                            result-image="uploader.queue[0].croppedImage"
                                                    </img-crop>
                                                </div>
                                            </div>
                                            <div class="crop-upload-btn" ng-show="isUploadImg==true">
                                                <button ng-click="uploader.queue[0].upload()"
                                                        ng-class="isLoadingRequ==true ?'disabled-btn':''"
                                                        class="btn  btn-default upload-btn-s">
                                                    Save
                                                    <i id="proPersInfo"
                                                       class="fa fa-spinner fa-pulse display-none"></i>
                                                </button>
                                                <button class="btn btn-default upload-btn-s"
                                                        ng-click="cancelUpload();">Cancel
                                                </button>
                                            </div>
                                        </div>

                                        <!-- personal information -->
                                        <div ng-if="menusObj.selectedMenu.id=='sm01'"
                                             id="personalInfo"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/personalInfoTemp.html'"></div>
                                        </div>
                                        <!-- security -->
                                        <div ng-if="menusObj.selectedMenu.id=='sm02'"
                                             id="security"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/securityTemp.html'"></div>
                                        </div>

                                        <div ng-if="menusObj.selectedMenu.id=='sm03'"
                                             id="contactInfo"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/contactInfoTemp.html'"></div>
                                        </div>

                                        <div ng-if="menusObj.selectedMenu.id=='sm04'"
                                             id="consoleConfig"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/consoleConfigTemp.html'"></div>
                                        </div>
                                        <div ng-if="menusObj.selectedMenu.id=='sm05'"
                                             id="myratings"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/myRatingsTemp.html'"></div>
                                        </div>
                                        <div ng-if="menusObj.selectedMenu.id=='sm06'"
                                             id="myChatTemps"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/chatTemplates.html'"></div>
                                        </div>
                                        <div ng-if="menusObj.selectedMenu.id=='sm07'"
                                             id="myGreetings"
                                             class="edit-info">
                                            <div ng-include="'app/views/agent/template/myGreetings.html'"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div>
</div>